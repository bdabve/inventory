{% extends "magasin/base.html" %}
{% load widget_tweaks %}

{% block title %}Manage Users{% endblock %}

{% block content %}

{% for msg in messages %}
    <div class="alert alert-info alert-dismissible fade show" role="alert">
        {{ msg }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
{% endfor %}

<div class="container">

    <!-- Title -->
    <h2 class="display-6 my-5 py-2 fst-italic border-bottom border-2">
        <i class="bi bi-person-lines-fill"></i>
        GÃ©rer les utilisateurs
    </h2>
    
    <!-- ALERT DIV and Main Buttons -->   
    <div id="usersAlert" class="alert alert-info alert-dismissible d-none" role="alert"></div>

    <!-- Add user button -->
    <div class="d-flex justify-content-between my-3">
        <!-- Search form -->
        <form id="user-search-form" class="mb-3">
            <div class="input-group">
                <div class="input-group-text"><i class="bi bi-search"></i></div>
                <input type="text" name="search_word" id="searchUsersWord" size=35 
                       placeholder="Recherche utilisateur" class="form-control">
            </div>            
        </form>
        <a id="createUserBtn" class="btn btn-success float-end mb-2 mt-2" href="#" 
           data-form-url="{% url 'accounts:create_user' %}" >
            <i class="bi bi-person-plus-fill"></i> Nouvel Utilisateur
        </a>
    </div>


<table class="table table-bordered table-hover main_table">
    <!-- Main Table -->
    <thead class="table-success">
        <tr>
            <th scope="col">ID</th>
            <th scope="col">Username</th>
            <th scope="col">First Name</th>
            <th scope="col">Last Name</th>
            <th scope="col">Email</th>
            <th scope="col">Job</th>
            <th scope="col">Groupe</th>
            <th scope="col">Last Login</th>
            <th scope="col">Operations</th>
        </tr>
    </thead>
    <tbody id="userTableBody">
        {% include 'accounts/users_table_rows.html' %}
    </tbody>
</table>
</div>
{% endblock %}
